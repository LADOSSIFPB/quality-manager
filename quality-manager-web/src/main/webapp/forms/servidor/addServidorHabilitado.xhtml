<?xml version="1.0" encoding="utf-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<p:panel id="pn_servidor_habilitado" header="Confirmar dados do Servidor">
		<h:form id="form_servidor_habilitado">

			<p:messages id="msg_servidor_habilitado" showDetail="true" 
				showSummary="false" autoUpdate="true" globalOnly="true"/>
			
			<h:panelGrid columns="3" cellpadding="5">

				<p:outputLabel for="nomePessoa" value="Nome do servidor:" />
				<p:inputText id="nomePessoa"
					value="#{editarServidorHabilitadoBean.servidor.nomePessoa}" 
					required="true">
					<f:validateLength maximum="90" />
					<f:validateRegex pattern="[A-Za-zÀ-ú ]*" />
				</p:inputText>
				<p:message for="nomePessoa" />
					
				<p:outputLabel for="matricula" value="Siape:" />
				<p:inputText id="matricula"
					value="#{editarServidorHabilitadoBean.servidor.matricula}" 
					required="true">
					<f:validateLongRange/>
				</p:inputText>
				<p:message for="matricula" />
				
				<p:outputLabel for="cpf" value="CPF:" />
				<p:inputMask id="cpf"
					value="#{editarServidorHabilitadoBean.servidor.cpf}"
					required="true" mask="999.999.999-99"
					size="14">
				</p:inputMask>
				<p:message for="cpf" />
				
				<p:outputLabel for="nascimento"
					value="Data Nascimento:" />
				<p:calendar id="nascimento"
					value="#{editarServidorHabilitadoBean.servidor.nascimento}" 
					effect="fold"
					locale="pt_BR"
					yearRange="c-100:c" 
					navigator="true" />
				<p:message for="nascimento" />
				
				<p:outputLabel for="email" value="E-mail:" />
				<p:inputText id="email"
					value="#{editarServidorHabilitadoBean.servidor.email}" 
					required="true"	label="email">
					<f:validateLength maximum="90" />
					<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
				</p:inputText>
				<p:message for="email" />
				
				<p:outputLabel for="titulacao" value="Titulação:" />
				<p:selectOneMenu id="titulacao"
					value="#{editarServidorHabilitadoBean.servidor.titulacao.idTitulacao}"
					required="true">
					<f:selectItems value="#{editarServidorHabilitadoBean.titulacoesSelectItem}" />
				</p:selectOneMenu>
				<p:message for="titulacao"/>
				
				<p:outputLabel for="cargoservidor" value="Cargo do servidor:" />
				<p:selectOneMenu id="cargoservidor"
					value="#{editarServidorHabilitadoBean.servidor.cargoServidor.idCargoServidor}"
					required="true">
					<f:selectItems value="#{editarServidorHabilitadoBean.cargosServidorSelectItem}" />
				</p:selectOneMenu>
				<p:message for="cargoservidor"/>
				
				<p:outputLabel for="campus" value="Campus:" />
				<p:selectOneMenu id="campus"
					value="#{editarServidorHabilitadoBean.servidor.campus.idCampusInstitucional}"
					required="true">
					<f:selectItems value="#{editarServidorHabilitadoBean.campiSelectItem}" />
				</p:selectOneMenu>
				<p:message for="campus"/>
				
				<p:outputLabel for="departamento" value="Departamento:" />
				<p:selectOneMenu id="departamento"
					value="#{editarServidorHabilitadoBean.servidor.departamento.idDepartamento}"
					required="true">
					<f:selectItems value="#{editarServidorHabilitadoBean.departamentosSelectItem}" />
				</p:selectOneMenu>
				<p:message for="departamento"/>									
			
				<p:outputLabel for="endereco" value="Endereço:" />
				<p:inputText id="endereco"
					value="#{editarServidorHabilitadoBean.servidor.endereco}" 
					required="true">
					<f:validateLength maximum="255" />
					<f:validateRegex pattern="[A-Za-zÀ-ú ]*" />
				</p:inputText>
				<p:message for="endereco" />
				
				<p:outputLabel for="cep" value="CEP:" />
				<p:inputMask id="cep"
					value="#{editarServidorHabilitadoBean.servidor.cep}"
					required="true" mask="99999-999"
					size="9">
				</p:inputMask>
				<p:message for="cep" />
				
				<p:outputLabel for="telefone" value="Telefone/Celular:" />
				<p:inputMask id="telefone"
					value="#{editarServidorHabilitadoBean.servidor.telefone}"
					required="true" mask="(99)9999-9999"
					size="14">
				</p:inputMask>
				<p:message for="telefone" />
			</h:panelGrid>
			
			<!-- Senha -->
			<h:panelGrid columns="2" cellpadding="5">
				<p:outputLabel for="password" value="Senha:" />
        		<p:password id="password" value="#{editarServidorHabilitadoBean.servidor.senha}" 
        			match="repassword" required="true" feedback="true" label="Senha"
        			promptLabel="#{msgs['primefaces.password.promptLabel']}"        			
        			weakLabel="#{msgs['primefaces.password.weakLabel']}"
        			goodLabel="#{msgs['primefaces.password.goodLabel']}"
        			strongLabel="#{msgs['primefaces.password.strongLabel']}"/>
        			
        		<p:outputLabel for="repassword" value="Confirmação da senha:" />
        		<p:password id="repassword" value="#{editarServidorHabilitadoBean.repassword}" 
        			required="true" label="Confirmação da esenha"/>
			</h:panelGrid>
			
			<p:commandButton id="bt_finalizar_cadastro" value="Finalizar Cadastro"
				action="#{editarServidorHabilitadoBean.save}"
				ajax="false" update="msg_servidor_habilitado" 
				icon="ui-icon-check"/>
				
			<p:blockUI block="form_servidor_habilitado" 
				trigger="bt_finalizar_cadastro" />
		</h:form>
	</p:panel>
</ui:composition>